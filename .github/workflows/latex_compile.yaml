name: Build LaTeX document
on:
  push
jobs:
  build_latex:
    runs-on: ubuntu-latest
    steps:
      - name: Set up Git repository
        uses: actions/checkout@v3
      - name: Compile LaTeX document
        uses: xu-cheng/latex-action@v2
        with:
          root_file: pdfgen/content.tex
      - name: list files
        run: |
          ls .
          echo "-------"
          ls pdfgen/
      - name: Copy file to proper directory
        run: |
          cp content.pdf pdfgen/cv.pdf
      - name: setup git config
        run: |
          git config user.name "GitHub Actions Bot"
          git config user.email "<>"
      - name: commit
        run: |
          git add pdfgen/cv.pdf
          git commit -m "Auto-generated PDF" --no-verify
          git push origin main --force
